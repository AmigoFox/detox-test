# Сайт для отправки заявок в наркологическую клинику

Этот проект представляет собой простой веб-сайт с формой обратной связи, предназначенной для отправки заявок в наркологическую клинику. Он включает в себя фронтенд (HTML, CSS, JavaScript) и бэкенд (PHP), а также базу данных SQLite для хранения данных заявок.

## Функциональность

- **Отправка заявки:** Пользователь может заполнить форму, указав имя, email и телефон.
- **Валидация данных:**
  - **Email:** Проверяется на корректность формата с использованием `FILTER_VALIDATE_EMAIL`.
  - **Телефон:** Проверяется и нормализуется для соответствия российскому формату.
    - Удаляются все символы, кроме цифр.
    - Номера, начинающиеся с `8`, автоматически преобразуются в формат `7`.
    - Номера, состоящие из 10 цифр, автоматически дополняются `7` в начале.
    - Номера, начинающиеся не с `7` или `8`, или длина которых не соответствует 10 или 11 цифрам, считаются некорректными.
    - Нормализованный номер всегда сохраняется в базе данных в формате `7XXXXXXXXXX`.
- **Защита от дубликатов:** Система проверяет, не отправлял ли пользователь заявку с такими же данными (имя, email, телефон) в течение последних 5 минут. Если да — выводится соответствующее сообщение об ошибке.
- **Сохранение данных:** Успешно отправленные заявки сохраняются в базу данных SQLite (`database.db`) в таблицу `ClientInfo`.
  - Каждая запись содержит: `id`, `name`, `phone` (в нормализованном формате), `email`, `created_at` (дата и время в формате `YYYY-MM-DD HH:MM:SS`).
- **Ответ на фронтенд:** В зависимости от результата обработки (успех или ошибка), сервер возвращает JSON-ответ, который обрабатывается JavaScript и отображается пользователю.
- **Аккордеон "Частые вопросы":** Добавлен раздел с часто задаваемыми вопросами и ответами, где ответы скрываются/показываются по клику.

## Технологии

- **HTML / CSS / JavaScript:** Фронтенд сайта.
- **PHP:** Обработка данных формы, валидация, подключение к базе данных.
- **SQLite:** Лёгкая файловая база данных для хранения заявок.
- **Git:** Управление версиями проекта.

## Установка и запуск

1.  Убедитесь, что у вас установлен PHP (рекомендуется версия 7.4 или выше).
2.  Убедитесь, что в `php.ini` включены расширения `pdo_sqlite` и `sqlite3`.
3.  Склонируйте репозиторий или скачайте архив.
4.  Откройте терминал и перейдите в корневую папку проекта (там, где лежит `index.html` и папка `php`).
5.  Запустите встроенный в PHP сервер: `php -S localhost:8000`.
6.  Откройте в браузере `http://localhost:8000/html/index.html`.
